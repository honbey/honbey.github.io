<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2022-09-08 Thu 00:11 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Synchronous/Asynchronous</title>
<meta name="author" content="Honbey Zhang" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" href="../resources/orgmode.css" type="text/css"/>
                     <link rel="stylesheet" href="../resources/style.css" type="text/css"/>
</head>
<body>
<div id="content" class="content">
<header>
<h1 class="title">Synchronous/Asynchronous</h1>
</header><p>
同步/异步关注任务运行之后需不需要处理。
</p>

<p>
同步：任务完成后再处理；
</p>

<p>
异步：任务完成后自动处理（通常是通过回调函数实现，或者进入一个完成队列等待下一步处理）。
</p>

<p>
和阻塞/非阻塞一起理解：拿日常生活中的烧水举例来说，人的行为动作相等于用户程序，烧水相当于内核提供的系统调用，那么：
</p>
<ul class="org-ul">
<li>同步/异步关注的是水烧开之后需不需要我来处理</li>
<li>阻塞/非阻塞关注的是在水烧开的这段时间是不是干了其他事</li>
<li>同步阻塞：点火，开始烧水，水没有开坚决不干任何事（阻塞），水开之后关火（同步）</li>
<li>同步非阻塞：点火，开始烧水，就去煮饭（非阻塞），但同时会关注水开否，水开之后关火（同步）</li>
<li>异步阻塞：用电热水壶烧水，按下开关，等待水开，水没有开坚决不干任何事（阻塞），水开之后自动断电（异步）</li>
<li>异步非阻塞：用电热水壶烧水，按下开关，之后随便干啥都行（非阻塞），水开之后自动断电（异步）</li>
</ul>

<p>
并行和并发：<a href="20220708-concurrency_parallel.html#ID-af9f4833-5713-468e-9c11-ad8b1c23222c">Concurrency/Parallel</a> 。
</p>
<blockquote>
<p>
Concurrency(Simultaneous) / Parallel
</p>
</blockquote>

<div id="outline-container-orgaa1216b" class="outline-2">
<h2 id="orgaa1216b">Python 异步编程</h2>
<div class="outline-text-2" id="text-orgaa1216b">
<p>
使用 Python 3.4 起引入的 <code>asyncio</code> 标准库实现。
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #0000FF;">import</span> asyncio
<span style="color: #0000FF;">async def</span> <span style="color: #006699;">say</span>(what, when):
    <span style="color: #0000FF;">await</span> asyncio.sleep(when)
    <span style="color: #0000FF;">return</span> what
</pre>
</div>

<p>
asyncio 模块在单线程上启动一个事件循环（event loop），时刻监听新进入循环的事件，加以处理，并不断重复这个过程，直到异步任务结束。
</p>

<figure id="org6f364bb">
<img src="../images/synchronous_asynchronous_python_js_async_001.png" alt="synchronous_asynchronous_python_js_async_001.png">

</figure>
</div>
</div>

<div id="outline-container-orgba7a232" class="outline-2">
<h2 id="orgba7a232">Reference</h2>
<div class="outline-text-2" id="text-orgba7a232">
<ul class="org-ul">
<li><a href="https://www.ruanyifeng.com/blog/2019/11/python-asyncio.html">https://www.ruanyifeng.com/blog/2019/11/python-asyncio.html</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<a href="https://beian.miit.gov.cn" target="_blank">湘ICP证019014083号</a>
</div>
</body>
</html>
